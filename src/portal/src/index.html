<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Harbor</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="favicon.ico?v=2">
</head>
<body>
    <harbor-app>
        <div class="spinner spinner-lg app-loading app-loading-fixed">
            Loading...
        </div>
    </harbor-app>
</body>
<script defer>

    function themeObject() {
        this.hasStyleMode = 'styleModeLocal';
        this.themeArray = [
            {
                showStyle: 'LIGHT',
                currentFileName: 'light-theme.css', 
            },
            {
                showStyle: 'DARK',
                currentFileName: 'dark-theme.css',
            },

            {
                showStyle: 'CUSTOM',
                currentFileName: 'customer.css',
            },
        ];
    }
    themeObject.prototype.loadStyle = function (styleName) {
        var head = document.getElementsByTagName('head')[0];
        var themeLink = document.getElementById(
            'client-theme'
        );
        if (themeLink) {
            themeLink.href = styleName;
        } else {
            var style = document.createElement('link');
            style.id = 'client-theme';
            style.rel = 'stylesheet';
            style.href = `${styleName}`;
            head.appendChild(style);
        }
    }
    themeObject.prototype.setTheme = function () {
        var styleMode = this.themeArray[0].showStyle;
        var localHasStyle = localStorage && localStorage.getItem(this.hasStyleMode);
        if (localHasStyle) {
            styleMode = localStorage.getItem(this.hasStyleMode);
        } else {
            localStorage.setItem(this.hasStyleMode, styleMode);
        }
        this.themeArray.forEach((themeItem) => {
            if (themeItem.showStyle === styleMode) {
                this.loadStyle(themeItem.currentFileName);
            }
        })
    }
    new themeObject().setTheme();
</script>

</html>